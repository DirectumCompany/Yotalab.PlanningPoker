@page
@using Microsoft.AspNetCore.Identity
@attribute [IgnoreAntiforgeryToken]
@inject SignInManager<IdentityUser> SignInManager
@functions {
  public async Task<IActionResult> OnGetAsync()
  {
    return await this.OnPostAsync();
  }

  public async Task<IActionResult> OnPostAsync()
  {
    if (SignInManager.IsSignedIn(User))
    {
      await SignInManager.SignOutAsync();
    }

    return Redirect("~/");
  }
}
